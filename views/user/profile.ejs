<%- include("../../views/partials/user/header") %>

<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>






 <style>


 .main {
   padding: 30px 0;
 }



 .form-group {
   margin-bottom: 15px;
 }


 .required {
   color: red;
 }


 @media (max-width: 1366px) {
    .dashboard-menu {
        padding: 10px;
    }
}

@media (max-width: 1366px) {
    .sidebar {
        margin-bottom: 20px;
    }
}



.card {
    margin-bottom: 15px;
}
 
 .page-header.breadcrumb-wrap {
 background-color: #eee2e9;
 padding: 15px 0;
}


.breadcrumb a:hover {
 color: #0056b3;
}


.breadcrumb span {
 margin: 0 5px;
 color: #999;
}



.breadcrumb a::after {
 content: '';
 position: absolute;
 width: 100%;
 height: 2px;
 background: #6e6e3a;
 left: 0;
 bottom: -2px;
 transform: scaleX(0);
 transition: transform 0.3s ease;
}


.breadcrumb a:hover::after {
 transform: scaleX(1);
}

.profile-image-container {
    display: flex;
    align-items: center;
}

.rounded-circle {
    border-radius: 50%;
    border: 2px solid #fff; /* Optional: Add a border to the image */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Optional: Add a shadow effect */
}

.ml-3 {
    margin-left: 15px; /* Space between image and text */
}
body {
    background-color: #f7f7f7;
}
.sidebar {
    background-color: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.sidebar a {
    color: #333;
    display: block;
    padding: 10px 0;
    text-decoration: none;
}
.sidebar a.active {
    color: #ff6600;
}
.sidebar a:hover {
    color: #ff6600;
}
.sidebar a i {
    margin-right: 10px;
}
.main-content {
    background-color: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}
.main-content h2 {
    margin-bottom: 20px;
}
.form-group label {
    font-weight: bold;
}
.form-group span {
    color: red;
}
.btn-orange {
    background-color: #ff6600;
    color: white;
}
.btn-orange:hover {
    background-color: #e65c00;
}
.btn-blue {
    background-color: #0000ff;
    color: white;
}
.btn-blue:hover {
    background-color: #0000cc;
}
.photo img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 10px;
}
.password-wrapper {
    position: relative;
    display: inline-block; /* Changed from block to inline-block */
    width: 55%; /* Match your input width */
}

.password-wrapper input {
    width: 100%; /* Make input fill the wrapper */
    padding-right: 40px; /* Add padding to prevent text overlap with icon */
}

.toggle-password {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    z-index: 1; /* Ensure icon stays above input */
}
    </style>
    


<body >


        
    <br>
    <br>


    <div class="banner-area organic-breadcrumb" >
        <div class="container" >
            <div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-between">
                <div class="col-left d-flex align-items-center">
                    <div class="ml-3">
                        <h5 id="fullName" style="color: #121311;"><%= user.name || 'John Doe' %></h5>
                        <p id="email" style="color: #121311;"><%= user.email || 'johndoe@example.com' %></p>
                        
                    </div>
                </div>
                <div class="col-first">
                    <h1>User Profile</h1>
                    <nav class="d-flex align-items-center">
                        <a href="/">Home<span class="lnr lnr-arrow-right"></span></a>
                        <a href="#">/Profile</a>
                    </nav>
                </div>
            </div>
        </div>
        <input type="file" id="imageUpload" accept="image/*" style="display: none;" onchange="previewImage(event)">
    </div>
    
    <div class="container "; >
        
        <div class="row" >
            <!-- Sidebar -->
            <div class="col-md-3 sidebar"  >


                <h2>My Account</h2>
                <a href="/userProfile" class="active"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                  </svg> Account Details</a>
                <a href="/address"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt" viewBox="0 0 16 16">
                    <path d="M12.166 8.94c-.524 1.062-1.234 2.12-1.96 3.07A32 32 0 0 1 8 14.58a32 32 0 0 1-2.206-2.57c-.726-.95-1.436-2.008-1.96-3.07C3.304 7.867 3 6.862 3 6a5 5 0 0 1 10 0c0 .862-.305 1.867-.834 2.94M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10"/>
                    <path d="M8 8a2 2 0 1 1 0-4 2 2 0 0 1 0 4m0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
                  </svg> Address</a>
                <a href="/orderHistory"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart2" viewBox="0 0 16 16">
                    <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5M3.14 5l1.25 5h8.22l1.25-5zM5 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0m9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2m-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0"/>
                  </svg> Orders</a>
                <a href="/wishlist"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                    <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143q.09.083.176.171a3 3 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15"/>
                  </svg> Wishlist</a>

                <a href="#" onclick="confirmLogout(event)" class="text-danger mt-4"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
            <!-- Main Content -->


           
       

            <div class="col-md-9 main-content" >
                <h2>Personal Information</h2>
                     
                <div style="text-align: right;" >
                    <button style="background-color: #00bfff; color: white; width: 150px;" onclick="window.location.href='/userProfile/edit/<%= user._id %>'">Edit Profile</button>
                </div>
                  
                <form id="profileForm">
   
                    <div class="flex justify-end">
                        <div class="w-40 h-40 rounded-full overflow-hidden">
                          <img
                            id="prfilePhoto" style="width: 200px; height: 200px;"
                            src="<%= user.photo ? user.photo : 'images/Messi signup.jpg' %>"
                            class="w-full h-full object-cover border-4 border-amber-500 transition-transform duration-300 hover:scale-105 shadow-lg"
                          />
                        </div>
                      </div>
                      
                    <br>


                    <div class="form-row">
                        <div class="col">

                            <hr>
                            <h6>Name</h6>
                            <h4>  <%= user ? user.name : 'John Doe' %> </h4>

                            <br>   

                            <h6>Username</h6>
                            <h4>  <%= user ? user.username : 'John Doe' %> </h4>

                            <br>   
                            
                            <h6>Mobile No</h6>
                            <h4>  <%= user ? user.phone : '+91' %> </h4>

                            <br>   

                            <h6>Email</h6>
                            <h4>  <%= user ? user.email : '' %> </h4>
                        </div>

                        </div>
                 
                    </div>
                           
                </form>

            
            </div>
        </div>
        
  
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    </body>



  
  <script>


function confirmLogout(event) {
        event.preventDefault(); // Prevent default link behavior

        Swal.fire({
            title: "Are you sure?",
            text: "You will be logged out!",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Yes, Logout"
        }).then((result) => {
            if (result.isConfirmed) {
                window.location.href = "/logout"; // Redirect only if confirmed
            }
        });
    }


    </script>



<br><br>

<%- include("../../views/partials/user/footer") %>